<!-- Room Detail Modal -->
<div class="modal" id="room-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title" id="modal-title">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</h3>
            <button class="modal-close" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body" id="modal-body">
            <div class="flex justify-center items-center py-10">
                <div class="loading-spinner w-10 h-10"></div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn-primary" onclick="showBookingModal(state.currentRoom?.roomId)" id="modal-book-btn">
                <i class="fas fa-calendar-check"></i> ‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á
            </button>
            <button class="btn-outline" onclick="closeModal()">‡∏õ‡∏¥‡∏î</button>
        </div>
        <div id="modal-admin-controls" class="px-4 pb-4 hidden">
            <p class="text-sm text-gray-400 mb-2">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏´‡πâ‡∏≠‡∏á</p>
            <div class="flex gap-2">
                <button id="modal-edit-btn" class="btn-outline flex-1 text-sm" onclick="editCurrentRoom()" disabled>
                    <i class="fas fa-edit mr-2"></i>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
                </button>
                <button id="modal-delete-btn" class="btn-danger flex-1 text-sm" onclick="deleteCurrentRoom()" disabled>
                    <i class="fas fa-trash mr-2"></i>‡∏•‡∏ö
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Booking Detail Modal -->
<div class="modal" id="booking-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</h3>
            <button class="modal-close" onclick="closeBookingDetailModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body" id="booking-modal-body">
            <div class="flex justify-center items-center py-10">
                <div class="loading-spinner w-10 h-10"></div>
            </div>
        </div>
        <div class="modal-footer" id="booking-modal-footer">
            <button class="btn-outline" onclick="closeBookingDetailModal()">‡∏õ‡∏¥‡∏î</button>
        </div>
    </div>
</div>

<!-- Create/Edit Booking Modal -->
<div class="modal" id="booking-create-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title" id="booking-modal-title">‡∏à‡∏≠‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</h3>
            <button class="modal-close" onclick="closeBookingCreateModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form id="booking-form" onsubmit="saveBooking(event)">
                <input type="hidden" id="edit-booking-id">
                <select id="booking-room" class="input-field" required>
                    <option value="">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°</option>
                </select>
                <input type="text" id="booking-title" placeholder="‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°" class="input-field" required maxlength="100">
                <textarea id="booking-description" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°)" class="input-field" rows="3" maxlength="500"></textarea>
                
                <input type="text" id="booking-meeting-link" placeholder="‡∏•‡∏¥‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏° (Zoom, Teams, etc.)" class="input-field">
                
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label class="text-xs text-gray-400 mb-1 block">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
                        <input type="text" id="booking-date" class="input-field" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°" required readonly>
                    </div>
                    <div>
                        <label class="text-xs text-gray-400 mb-1 block">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                        <input type="text" id="booking-end-date" class="input-field" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î" required readonly>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label class="text-xs text-gray-400 mb-1 block">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°</label>
                        <input type="text" id="booking-start" class="input-field" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤" required readonly>
                    </div>
                    <div>
                        <label class="text-xs text-gray-400 mb-1 block">‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î</label>
                        <input type="text" id="booking-end" class="input-field" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤" required readonly>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 gap-2">
                    <div>
                        <label class="text-xs text-gray-400 mb-1 block">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label>
                        <input type="number" id="booking-attendees" class="input-field" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô" min="1" value="4">
                    </div>
                </div>
                
                <div id="availability-status" class="text-sm mb-3 hidden"></div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="submit" form="booking-form" class="btn-primary flex-1" id="save-booking-btn">‡∏à‡∏≠‡∏á</button>
            <button type="button" class="btn-outline flex-1" onclick="closeBookingCreateModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>
</div>

<!-- Create/Edit Room Modal -->
<div class="modal" id="room-create-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title" id="room-modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</h3>
            <button class="modal-close" onclick="closeRoomModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form id="room-form" onsubmit="saveRoom(event)">
                <input type="hidden" id="edit-room-id">
                <input type="text" id="room-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á" class="input-field" required maxlength="50">
                <input type="number" id="room-capacity" placeholder="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏∏ (‡∏Ñ‡∏ô)" class="input-field" required min="1">
                <input type="text" id="room-location" placeholder="‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà/‡∏ä‡∏±‡πâ‡∏ô" class="input-field" required>
                <textarea id="room-description" placeholder="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏´‡πâ‡∏≠‡∏á" class="input-field" rows="3"></textarea>
                <input type="text" id="room-facilities" placeholder="‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å (‡∏Ñ‡∏±‡πà‡∏ô‡∏î‡πâ‡∏ß‡∏¢ , ‡πÄ‡∏ä‡πà‡∏ô ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡πÄ‡∏ï‡∏≠‡∏£‡πå, ‡∏à‡∏≠, ‡πÑ‡∏ß‡∏ó‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î)" class="input-field">
                
                <div class="upload-area" onclick="document.getElementById('room-image-file').click()">
                    <i class="fas fa-cloud-upload-alt text-3xl text-gray-400 mb-2"></i>
                    <p class="text-sm text-gray-400">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡πâ‡∏≠‡∏á</p>
                </div>
                <input type="file" id="room-image-file" accept="image/*" style="display: none" onchange="previewRoomImage(this)">
                <img id="room-image-preview" class="image-preview">
                <input type="hidden" id="room-image">
            </form>
        </div>
        <div class="modal-footer">
            <button type="submit" form="room-form" class="btn-primary flex-1" id="save-room-btn">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button type="button" class="btn-outline flex-1" onclick="closeRoomModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>
</div>

<!-- Profile Settings Modal -->
<div class="modal" id="profile-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</h3>
            <button class="modal-close" onclick="closeProfileModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form id="profile-form" onsubmit="saveProfile(event)">
                <input type="text" id="profile-phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå" class="input-field" maxlength="10">
                <input type="text" id="profile-department" placeholder="‡πÅ‡∏ú‡∏ô‡∏Å/‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô" class="input-field" maxlength="50">
            </form>
        </div>
        <div class="modal-footer">
            <button type="submit" form="profile-form" class="btn-primary flex-1">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button type="button" class="btn-outline flex-1" onclick="closeProfileModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>
</div>

<!-- Role Modal -->
<div class="modal" id="role-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3 class="modal-title">‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h3>
            <button class="modal-close" onclick="closeRoleModal()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-body">
            <form id="role-form" onsubmit="saveUserRole(event)">
                <input type="hidden" id="role-user-id">
                <p id="role-user-name" class="text-white mb-4"></p>
                <select id="user-role" class="input-field">
                    <option value="user">üë§ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
                    <option value="manager">üë• ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</option>
                    <option value="admin">üëë ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö</option>
                </select>
            </form>
        </div>
        <div class="modal-footer">
            <button type="submit" form="role-form" class="btn-primary flex-1">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            <button type="button" class="btn-outline flex-1" onclick="closeRoleModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        </div>
    </div>
</div>
